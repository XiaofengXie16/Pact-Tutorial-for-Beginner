# Pact.js 101

## Usage

### Step 1 - Install a pact broker on your local machine

* Install ruby 2.2.0 or later and bundler >= 1.12.0
  * Windows users: get a Rails/Ruby installer from [RailsInstaller](http://railsinstaller.org/) and run it
  * unix users just use your package manager
* Run `git clone https://github.com/pact-foundation/pact_broker.git && cd pact_broker/example` or `cd pact_broker`
* Run `bundle install`
* Run `bundle exec rackup -p 8080` (this will use a Sqlite database. If you want to try it out with a Postgres database, see the [README](https://github.com/pact-foundation/pact_broker/tree/master/example) in the example directory.)
* Open [http://localhost:8080](http://localhost:8080) and you should see a list containing the pact between the Zoo App and the Animal Service
* Click on the arrow to see the generated HTML documentation
* Click on either service to see an autogenerated network diagram
* Click on the HAL Browser link to have a poke around the API
* Click on the book icon under "docs" to view documentation related to a given relation

### Step 2 - Generate a pact file from the client side and publish back to the local pact broker

* `cd client`
* run `npm install` or `yarn install`
* run `npm test` or `yarn test`
* a pact file will be genreated in the `pacts` folder
* run `npm run publish` or `yarn publish`, the pact file.will be published to the local pact broker

### Step 3- Verifiy the pact and publish the result to the local pact broker

* `cd api-service`
* run `npm install` or `yarn install`.
* run `npm start` or `yarn start` to spin up .a local api service
* run `npm run test` or `yarn test` to retrieve the pact from the local broker , verify the pact with local service and send the verification result back to the pact broker
